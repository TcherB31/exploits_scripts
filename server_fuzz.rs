#![no_main]
#[macro_use]
extern crate libfuzzer_sys;
extern crate reqwest;

use std::io::Read;

fuzz_target!(|data: &[u8]| {
    let client = reqwest::Client::new();
    let url = format!("https://www.rba.gov.au/{}", String::from_utf8_lossy(data));
    let mut resp = match client.get(&url).send() {
        Ok(response) => response,
        Err(_) => return,
    };
    let mut body = String::new();
    if resp.read_to_string(&mut body).is_ok() {
        println!("response: {}", body);
    }
});
